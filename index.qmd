---
title: "Lab: Creating Good Graphics"
author: "Max Vitek"
format: html
number-sections: true
number-depth: 2
messages: false
errors: false
warnings: false
editor: 
  markdown: 
    wrap: sentence
---

::: callout
You can see the purpose of this assignment as well as the skills and knowledge you should be using and acquiring, in the [Transparency in Learning and Teaching (TILT)](tilt.qmd) document in this repository.
The TILT document also contains a checklist for self-reflection that will provide some guidance on how the assignment will be graded.
:::

# Graphical Critiques

The following code was [generated by Claude AI vers. Sonnet 4.5](4-types-graphics-claude.md) (with some modifications).

```{r}
#| label: fig-comparing-graphics-figures
#| fig-cap: "Four different representations of COVID vaccination rates."
#| fig-subcap: ["Caption 1", "Caption 2", "Caption 3", "Caption 4"]
#| fig-alt: [ "A pie chart showing the total COVID-19 vaccinations summed across all 12 weeks by age group. The largest portion, about 33.8%, is for adults aged 65 and older, followed by 50–64 at 27.7%, 30–49 at 21.9%, and 18–29 at 16.5%.", "A line graph showing vaccination rates over 12 weeks for four age groups. All groups show a steady increase over time, with the 65+ group consistently having the highest rates and the 18–29 group the lowest.", "A stacked area chart showing cumulative vaccination rates over 12 weeks for all age groups. The 65+ group contributes the largest share to the total area, followed by the 50–64, 30–49, and 18–29 groups, illustrating overall growth in vaccination coverage.", "A grouped bar chart displaying weekly vaccination rates for each age group. Each week shows four bars representing the age groups, with values increasing across weeks. Older age groups consistently have taller bars than younger ones, reflecting higher vaccination rates."]
#| layout-ncol: 2
#| code-fold: true

# Load required libraries
suppressPackageStartupMessages({
  library(ggplot2)
  theme_set(theme_bw())
  library(dplyr)
  library(tidyr)
})

# Create sample dataset
set.seed(123)
weeks <- 1:12
age_groups <- c("18-29", "30-49", "50-64", "65+")

# Generate vaccination rate data with realistic patterns
vaccination_data <- data.frame(
  week = rep(weeks, each = 4),
  age_group = rep(age_groups, times = 12),
  vaccination_rate = c(
    # Week-by-week data for each age group
    12, 18, 25, 35,  # Week 1
    15, 22, 30, 41,  # Week 2
    18, 26, 35, 47,  # Week 3
    22, 31, 41, 54,  # Week 4
    26, 36, 47, 60,  # Week 5
    30, 41, 53, 66,  # Week 6
    34, 46, 58, 71,  # Week 7
    38, 50, 63, 75,  # Week 8
    42, 54, 67, 79,  # Week 9
    45, 58, 71, 82,  # Week 10
    48, 61, 74, 85,  # Week 11
    51, 64, 77, 87   # Week 12
  )
)

# Set factor levels for consistent ordering
vaccination_data$age_group <- factor(vaccination_data$age_group, 
                                     levels = c("18-29", "30-49", "50-64", "65+"))

# Define color palette
age_colors <- c("18-29" = "#FF6B6B", 
                "30-49" = "#4ECDC4", 
                "50-64" = "#FFD93D", 
                "65+" = "#95E1D3")

# CHART A: 3D Pie Chart (showing total vaccinations by age group)
# Calculate total vaccinations per age group (sum across weeks)
total_by_age <- vaccination_data %>%
  group_by(age_group) %>%
  summarise(total = sum(vaccination_rate))

# Create pie chart with 3D-like appearance using custom positioning
chart_a <- ggplot(total_by_age, aes(x = "", y = total, fill = age_group)) +
  geom_bar(stat = "identity", width = 1, color = "white") +
  coord_polar("y", start = 0) +
  scale_fill_manual(values = age_colors) +
  labs(title = "Chart A: 3D Pie Chart - Total Vaccinations by Age Group",
       subtitle = "(Summed across all 12 weeks)",
       fill = "Age Group") +
  theme_void() +
  theme(
    plot.title = element_text(hjust = 0.5, size = 14, face = "bold"),
    plot.subtitle = element_text(hjust = 0.5, size = 10, face = "italic"),
    legend.position = "right",
    legend.title = element_text(size = 11, face = "bold"),
    legend.text = element_text(size = 10)
  ) +
  # Add percentage labels
  geom_text(aes(label = paste0(round(total/sum(total)*100, 1), "%")),
            position = position_stack(vjust = 0.5),
            size = 4, fontface = "bold")
chart_a

# CHART B: Line Graph - Vaccination Rates Over Time
chart_b <- ggplot(vaccination_data, aes(x = week, y = vaccination_rate, 
                                        color = age_group, group = age_group)) +
  geom_line(linewidth = 1.2) +
  geom_point(size = 2.5) +
  scale_color_manual(values = age_colors) +
  scale_x_continuous(breaks = 1:12) +
  labs(title = "Chart B: Line Graph - Vaccination Rates Over Time",
       x = "Week",
       y = "Vaccination Rate (%)",
       color = "Age Group")
chart_b

# CHART C: Stacked Area Chart - Vaccination Rates Over Time
chart_c <- ggplot(vaccination_data, aes(x = week, y = vaccination_rate, 
                                        fill = age_group)) +
  geom_area(alpha = 0.8, position = "stack") +
  scale_fill_manual(values = age_colors) +
  scale_x_continuous(breaks = 1:12) +
  labs(title = "Chart C: Stacked Area Chart - Vaccination Rates Over Time",
       x = "Week",
       y = "Cumulative Vaccination Rate (%)",
       fill = "Age Group")
chart_c

# CHART D: Grouped Bar Chart - Vaccination Rates by Week and Age Group
chart_d <- ggplot(vaccination_data, aes(x = factor(week), y = vaccination_rate, 
                                        fill = age_group)) +
  geom_bar(stat = "identity", position = "dodge", width = 0.8) +
  scale_fill_manual(values = age_colors) +
  labs(title = "Chart D: Grouped Bar Chart - Vaccination Rates by Week and Age Group",
       x = "Week",
       y = "Vaccination Rate (%)",
       fill = "Age Group")
chart_d
```

1.  Edit the chunk options above to produce helpful and descriptive captions and alt-text for each chart. Every chart you include in a document should be referenced in the text (preferably using a cross-reference) and should have a helpful caption and include at least short alt-text descriptions using the `fig-alt` quarto option.\
    Resources:

-   [Mastering Alt Text for Images and Charts](https://a11ykat.medium.com/see-the-unseen-mastering-alt-text-for-images-and-charts-6d3dbe36553b)
-   [Image Accessibility Generator](https://asuo-ai-labs.streamlit.app/Image_Accessibility) - This is a great tool but I often have to customize the output. I usually use the long text for image descriptions, which is not *best* practice but tends to work better than many of the other options available within the quarto ecosystem.

2.  Using the grammar of graphics, identify the geom, mappings, stat, positions, coordinate systems, and transformations for each graphic. Fill in the table below accordingly, leaving any cells which do not apply to the chart blank. If a mapping is a function of a statistic, fill in the statistic function from ggplot2 and indicate the mapping using the appropriate [`after_stat` variable](https://ggplot2.tidyverse.org/reference/aes_eval.html.).

| Chart | Geom | X mapping | Y mapping | Color mapping | Fill mapping | Stat | Position | Coord System | Transform |
|----------|-----------|----------|---------|--------|---------|--------|--------|---------|----------|
| A (Pie) | geom_bar | empty | total |  | age_group | identity | stack | coord_polar("y") | Converts stacked bar to pie via polar transform |
| B (Line Graph) | geom_line, geom_point() | week | vaccination_rate | age_group |  | identity | identity | Cartesian |  |
| C (Stacked Area) | geom_area | week | vaccination_rate |  | age_group | identity | stack | Cartesian |  |
| D (Grouped Bar) | geom_bar | factor(week) | vaccination_rate |  | age_group | identity | dodge | Cartesian |  |

: Grammar of graphics mappings for the four charts

3.  Examine each chart and determine whether it effectively communicates changes in vaccine rates over time across different age groups. If the chart is inappropriate for that comparison, explain why; if it is appropriate but not optimal, explain what you would change.
- A (Pie Chart): Not effective. It shows total vaccinations but loses the temporal dimension. It’s good for proportion but not for trends.
- B (Line Graph): Highly effective. Clearly shows trends over time and allows easy comparison between age groups.
- C (Stacked Area): Moderately effective. Shows cumulative growth but makes it hard to isolate individual group trends.
- D (Grouped Bar): Effective. Allows week-by-week comparison across groups, though more cluttered than the line graph.

4.  Examine each chart and critique the use of Gestalt principles of grouping. What principles apply? Are they used effectively?
- A: Similarity & Proximity — Color distinguishes groups, but circular layout makes comparison harder.
- B: Continuity & Similarity — Lines grouped by color and proximity; excellent use of continuity for trend perception.
- C: Closure & Area — Stacked areas imply cumulative totals, but individual group trends are obscured.
- D: Proximity & Similarity — Bars grouped by week and color-coded by age group; effective but visually dense
 
5.  Consider the "messages" you might want viewers to take away from this data and the visuals you generate.
    a.  Brainstorm 2-3 reasonable messages
- Older adults (65+) consistently had the highest vaccination rates.
- All age groups showed steady increases over time.
- The gap between age groups persisted throughout the 12 weeks
    b.  What do you think the most important message is from this data set?

- Vaccination rates increased steadily across all age groups, with older adults consistently leading.
    c.  Which comparisons do you want to make easier for participants to perform?

- Rate of increase over time by age group.
- Final vaccination rate at week 12.
- Relative differences between age groups at each time point.
    d.  What obstacles do you expect to encounter designing a chart to facilitate these comparisons?
- Balancing clarity with detail (e.g., avoiding clutter in grouped bar charts).
- Ensuring color accessibility and interpretability.
- Avoiding misinterpretation of cumulative vs. weekly data.
  
    
6.  Considering your answers to the questions above, create your own version of the chart that minimizes cognitive load and maximizes interpretability. Explain the changes that you made and why they improve the chart compared to the ones generated by Claude.


```{r}
# Load required libraries
suppressPackageStartupMessages({
  library(tidyverse)
  library(ggrepel)  # for direct labeling
})

# Define colorblind-friendly palette
cb_palette <- c("18-29" = "#D55E00", 
                "30-49" = "#0072B2", 
                "50-64" = "#F0E442", 
                "65+"   = "#009E73")

# Define weeks and age groups
weeks <- 1:12
age_groups <- c("18-29", "30-49", "50-64", "65+")

# Create vaccination data frame
vaccination_data <- data.frame(
  week = rep(weeks, each = 4),
  age_group = rep(age_groups, times = 12),
  vaccination_rate = c(
    12, 18, 25, 35,  # Week 1
    15, 22, 30, 41,  # Week 2
    18, 26, 35, 47,  # Week 3
    22, 31, 41, 54,  # Week 4
    26, 36, 47, 60,  # Week 5
    30, 41, 53, 66,  # Week 6
    34, 46, 58, 71,  # Week 7
    38, 50, 63, 75,  # Week 8
    42, 54, 67, 79,  # Week 9
    45, 58, 71, 82,  # Week 10
    48, 61, 74, 85,  # Week 11
    51, 64, 77, 87   # Week 12
  )
)

# Set factor levels for consistent ordering
vaccination_data$age_group <- factor(vaccination_data$age_group, 
                                     levels = c("18-29", "30-49", "50-64", "65+"))

# Create enhanced line chart with direct labeling and reference lines
ggplot(vaccination_data, aes(x = week, y = vaccination_rate, color = age_group)) +
  geom_line(linewidth = 1.2) +
  geom_point(size = 2) +
  geom_text_repel(
    data = vaccination_data %>% filter(week == max(week)),
    aes(label = paste0(age_group, ": ", vaccination_rate, "%")),
    nudge_x = 0.5,
    direction = "y",
    hjust = 0,
    size = 4,
    fontface = "bold",
    segment.color = "grey50"
  ) +
  scale_color_manual(values = cb_palette) +
  scale_x_continuous(breaks = c(1, 6, 12), expand = expansion(mult = c(0.01, 0.1))) +
  geom_vline(xintercept = c(6, 12), linetype = "dashed", color = "grey70") +
  labs(
    title = "COVID-19 Vaccination Trends by Age Group",
    subtitle = "Week-by-week comparison with direct labeling and milestone markers",
    x = "Week",
    y = "Vaccination Rate (%)",
    color = "Age Group"
  ) +
  theme_minimal(base_size = 13) +
  theme(
    legend.position = "none",
    plot.title = element_text(face = "bold"),
    plot.subtitle = element_text(face = "italic")
  )

```
Changes
- Use a single line graph (like Chart B) but:
- Add end-point labels for each line to show final vaccination rate.
- Use direct labeling instead of a legend to reduce eye movement.
- Add shaded confidence bands or smoother curves if variability is high.
- Use colorblind-friendly palette for accessibility.
- Add vertical reference lines at key weeks (e.g., week 6, week 12).
Why it’s better:
- Minimizes cognitive load by reducing chart clutter.
- Emphasizes trends and comparisons clearly.
- Supports key messages and comparisons directly.
- Enhances accessibility and readability.



# Choose Your Own Adventure
Claude used fake data, but we have access to the [real deal](https://data.cdc.gov/Vaccinations/Weekly-Cumulative-Estimated-Number-of-COVID-19-Vac/ewpg-rz7g/about_data), and I've downloaded a [csv](Weekly_Cumulative_Estimated_Number_of_COVID-19_Vaccinations_Administered_in_Pharmacies_and_Physician_Medical_Offices,_Adults_18_years_and_older,_by_Season_and_Age_Group,_United_States_20251021.csv) to simplify the process.
Of course, the CDC only tracks number of vaccines, not the overall vaccination rate.

1.  Augment this data with census estimates of the population size for each age group.In either case, you may need to do a bit of inference/subtraction to get the counts for the age brackets used by the CDC. Provide reproducible code that generates a population table for 2023 and 2024 with the appropriate counts for each age bracket provided by the CDC.
    Options:
    -   Use the [nc-est2024-agesex.xlsx](nc-est2024-agesex.xlsx) population by age and sex file I downloaded from the [US Census](https://www.census.gov/data/tables/time-series/demo/popest/2020s-national-detail.html).

# I had many issues getting the xlsx to work in a desired manner so it is converted to csv.


```{r}
library(tidyverse)
library(readr)

# --------------------------------------------
# STEP 1: Read Census file and clean
# --------------------------------------------
census <- read_csv("est2024-agesex.csv", skip = 4)

# Rename the first column to something clean
colnames(census)[1] <- "Age_Group"

# Inspect available column names (optional)
# print(names(census))

# Automatically find columns for 2023 and 2024 under "Both Sexes"
year_cols <- grep("Both Sexes", names(census), value = TRUE)
names(year_cols) <- year_cols

# Pick the last two (typically 2023 and 2024)
target_cols <- tail(year_cols, 2)

# Clean numeric values and keep only relevant columns
census_clean <- census %>%
  select(Age_Group, all_of(target_cols)) %>%
  mutate(across(all_of(target_cols), ~as.numeric(gsub(",", "", .x)))) %>%
  filter(!is.na(Age_Group))

# Rename dynamically based on detected years
names(census_clean)[2:3] <- c("pop_2023", "pop_2024")

# --------------------------------------------
# STEP 2: Helper to sum Census rows matching a pattern
# --------------------------------------------
sum_age_groups <- function(df, pattern) {
  df %>%
    filter(str_detect(Age_Group, pattern)) %>%
    summarise(
      pop_2023 = sum(pop_2023, na.rm = TRUE),
      pop_2024 = sum(pop_2024, na.rm = TRUE)
    )
}

# --------------------------------------------
# STEP 3: Aggregate to CDC-style age brackets
# --------------------------------------------
under18  <- sum_age_groups(census_clean, "Under 5|5 to 9|10 to 14|15 to 17")
age18_49 <- sum_age_groups(census_clean, "18 to 19|20 to 24|25 to 29|30 to 34|35 to 39|40 to 44|45 to 49")
age50_64 <- sum_age_groups(census_clean, "50 to 54|55 to 59|60 to 64")
age65p   <- sum_age_groups(census_clean, "65 to 69|70 to 74|75 to 79|80 to 84|85 years and over")

age18p <- tibble(
  pop_2023 = age18_49$pop_2023 + age50_64$pop_2023 + age65p$pop_2023,
  pop_2024 = age18_49$pop_2024 + age50_64$pop_2024 + age65p$pop_2024
)

# --------------------------------------------
# STEP 4: Build final population table
# --------------------------------------------
population_table <- tibble(
  Age_Group = c("Under 18", "18-49", "50-64", "65+", "18+"),
  Population_2023 = c(under18$pop_2023, age18_49$pop_2023, age50_64$pop_2023, age65p$pop_2023, age18p$pop_2023),
  Population_2024 = c(under18$pop_2024, age18_49$pop_2024, age50_64$pop_2024, age65p$pop_2024, age18p$pop_2024)
)

# --------------------------------------------
# STEP 5: Output
# --------------------------------------------
print(population_table)



```
2.  Use the real data to generate the plot you created in 6. How does the real data change the appearance/message of the plot? Does anything get easier or more difficult?
```{r}
# ----------------------------------------------------
# 1. Load real CDC vaccination data
# ----------------------------------------------------
cdc <- read_csv("Weekly_Cumulative_Estimated_20251021.csv")

cdc_clean <- cdc %>%
  filter(Location_and_Flu_Season_Order == 38,             # National-level data
         Setting == "Physician Medical Office",
         Age_Group %in% c("18-49", "50-64", "65+")) %>%
  mutate(Week = row_number()) %>%
  select(Week, Age_Group, Cumulative_Doses)

# ----------------------------------------------------
# 2. Define population data directly (provided by user)
# ----------------------------------------------------
population <- tibble(
  Age_Group = c("Under 18", "18-49", "50-64", "65+", "18+"),
  Population_2023 = c(78492508, 132711939, 62679401, 59326707, 254718047),
  Population_2024 = c(78297454, 134709073, 62148032, 61179918, 258037023)
)

# Filter for adult CDC groups (18-49, 50-64, 65+)
pop_2024 <- population %>%
  filter(Age_Group %in% c("18-49", "50-64", "65+")) %>%
  rename(Population = Population_2024)

# ----------------------------------------------------
# 3. Merge CDC data with population table and compute vaccination rates
# ----------------------------------------------------
cdc_rates <- cdc_clean %>%
  left_join(pop_2024, by = "Age_Group") %>%
  mutate(vaccination_rate = (Cumulative_Doses / Population) * 100)

# ----------------------------------------------------
# 4. Plot cumulative vaccination rate trends
# ----------------------------------------------------
cb_palette <- c("18-49" = "#0072B2",
                "50-64" = "#F0E442",
                "65+"   = "#009E73")

cdc_rates$Age_Group <- factor(cdc_rates$Age_Group, levels = c("18-49", "50-64", "65+"))

ggplot(cdc_rates, aes(x = Week, y = vaccination_rate, color = Age_Group)) +
  geom_line(linewidth = 1.2) +
  geom_point(size = 2) +
  geom_text_repel(
    data = cdc_rates %>% group_by(Age_Group) %>% slice_tail(n = 1),
    aes(label = paste0(Age_Group, ": ", round(vaccination_rate, 2), "%")),
    nudge_x = 0.5,
    direction = "y",
    hjust = 0,
    size = 4,
    fontface = "bold",
    segment.color = "grey50"
  ) +
  scale_color_manual(values = cb_palette) +
  scale_x_continuous(expand = expansion(mult = c(0.01, 0.1))) +
  labs(
    title = "Weekly COVID-19 Vaccination Trends by Age Group (CDC Data)",
    subtitle = "Cumulative vaccination rates based on 2024 U.S. population estimates",
    x = "Week (Season Progression)",
    y = "Vaccination Rate (%)",
    color = "Age Group"
  ) +
  theme_minimal(base_size = 13) +
  theme(
    legend.position = "none",
    plot.title = element_text(face = "bold"),
    plot.subtitle = element_text(face = "italic")
  )

```
3.  What annotations would you want to add to your chart? You may be able to find relevant information about e.g. approval dates of vaccines at [immunize.org's Vaccine Timeline](https://www.immunize.org/vaccines/vaccine-timeline/). Add at least one annotation to your chart, but balance utility with clutter.
```{r}
cdc_clean <- cdc %>%
  filter(Location_and_Flu_Season_Order == 38,             # National-level data
         Setting == "Physician Medical Office",
         Age_Group %in% c("18-49", "50-64", "65+")) %>%
  mutate(Week = row_number()) %>%
  select(Week, Age_Group, Cumulative_Doses)

# ----------------------------------------------------
# 2. Define population data directly (provided by user)
# ----------------------------------------------------
population <- tibble(
  Age_Group = c("Under 18", "18-49", "50-64", "65+", "18+"),
  Population_2023 = c(78492508, 132711939, 62679401, 59326707, 254718047),
  Population_2024 = c(78297454, 134709073, 62148032, 61179918, 258037023)
)

# Filter for adult CDC groups (18-49, 50-64, 65+)
pop_2024 <- population %>%
  filter(Age_Group %in% c("18-49", "50-64", "65+")) %>%
  rename(Population = Population_2024)

# ----------------------------------------------------
# 3. Merge CDC data with population table and compute vaccination rates
# ----------------------------------------------------
cdc_rates <- cdc_clean %>%
  left_join(pop_2024, by = "Age_Group") %>%
  mutate(vaccination_rate = (Cumulative_Doses / Population) * 100)

# ----------------------------------------------------
# 4. Plot cumulative vaccination rate trends with annotation
# ----------------------------------------------------
cb_palette <- c("18-49" = "#0072B2",
                "50-64" = "#F0E442",
                "65+"   = "#009E73")

cdc_rates$Age_Group <- factor(cdc_rates$Age_Group, levels = c("18-49", "50-64", "65+"))

# Calculate Y_max for dynamic annotation placement
Y_max <- max(cdc_rates$vaccination_rate, na.rm = TRUE)

ggplot(cdc_rates, aes(x = Week, y = vaccination_rate, color = Age_Group)) +
  geom_line(linewidth = 1.2) +
  geom_point(size = 2) +
  geom_text_repel(
    data = cdc_rates %>% group_by(Age_Group) %>% slice_tail(n = 1),
    aes(label = paste0(Age_Group, ": ", round(vaccination_rate, 2), "%")),
    nudge_x = 0.5,
    direction = "y",
    hjust = 0,
    size = 4,
    fontface = "bold",
    segment.color = "grey50"
  ) +
  # ---- Annotation block ----
  geom_vline(xintercept = 2, linetype = "dotted", color = "grey50") +
  annotate(
    "text",
    x = 2.5,
    y = Y_max * 0.9,
    label = "FDA authorizes 2023–24\nCOVID-19 vaccines (Sept 2023)",
    angle = 90,
    vjust = -0.5,
    size = 3.5,
    color = "grey30"
  ) +
  # --------------------------
  scale_color_manual(values = cb_palette) +
  scale_x_continuous(expand = expansion(mult = c(0.01, 0.1))) +
  labs(
    title = "Weekly COVID-19 Vaccination Trends by Age Group (CDC Data)",
    subtitle = "Cumulative vaccination rates with key event: FDA authorization of 2023–24 vaccine (Sept 2023)",
    x = "Week (Season Progression)",
    y = "Vaccination Rate (%)",
    color = "Age Group"
  ) +
  theme_minimal(base_size = 13) +
  theme(
    legend.position = "none",
    plot.title = element_text(face = "bold"),
    plot.subtitle = element_text(face = "italic")
  )
```
4.  How would you modify this chart if your goal was to compare vaccination rates for each age group in 2023 and 2024? Explain your answer, highlighting how your modifications would reduce the cognitive load of making the comparison of interest.
```{r}
# Example: side-by-side comparison
cdc_plot_data_long <- cdc_plot_data %>%
  pivot_longer(cols = c(vacc_rate_2023, vacc_rate_2024), 
               names_to = "Year", values_to = "Vacc_Rate")

ggplot(cdc_plot_data_long, aes(x = Age_Group, y = Vacc_Rate, fill = Year)) +
  geom_col(position = "dodge") +
  scale_y_continuous(labels = scales::percent_format(accuracy = 1)) +
  labs(title = "COVID-19 Vaccination Rate by Age Group",
       subtitle = "Comparison of 2023 and 2024",
       y = "Vaccination Rate",
       x = "Age Group")
```
5.  How would you use your statistical training to test and visually highlight any statistically significant differences? Explain. You do not have to actually implement any statistical testing to answer this question.

    I would start by using the weekly cumulative vaccination counts as repeated measures within each age group. Using this, I  perform proportion tests or paired t-tests to evaluate whether the differences in vaccination rates across years are statistically significant for age groups, while adjusting for multiple comparisons to control the error rate. 
    Once the significance of these differences is established, I convey this visually by adding annotations directly to the plot, such as asterisks, brackets, or colored highlights on the bars corresponding to age groups with significant differences. This would enable someone to quickly identify which age groups experienced meaningful changes in vaccination uptake, reducing cognitive load by integrating statistical significance into the visual representation. 

